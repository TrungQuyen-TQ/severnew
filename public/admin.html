<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Qu·∫£n l√Ω Nh√† h√†ng</title>
    <style>
        /* CSS D√πng chung cho Tab v√† Modal */
        body { font-family: Arial, sans-serif; padding: 20px; }
        header { margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #ccc; }
        .tab-container { display: flex; margin-bottom: 20px; border-bottom: 2px solid #ccc; }
        .tab-button { padding: 10px 20px; cursor: pointer; border: none; background: #f1f1f1; margin-right: 5px; border-radius: 5px 5px 0 0; }
        .tab-button.active { background-color: #4CAF50; color: white; }
        .tab-content { display: none; padding-top: 20px; }
        .tab-content.active { display: block; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #007bff; color: white; }
        
        /* CSS cho Modal */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
        .modal-content { background-color: #fefefe; margin: 10% auto; padding: 20px; border: 1px solid #888; width: 90%; max-width: 600px; border-radius: 8px; }
        .close-btn { color: #aaa; float: right; font-size: 28px; font-weight: bold; }
        .close-btn:hover, .close-btn:focus { color: black; text-decoration: none; cursor: pointer; }
        .form-group label { display: block; margin-top: 10px; font-weight: bold; }
        .form-group input, .form-group select { width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        .modal button[type="submit"] { margin-top: 20px; padding: 10px 15px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; }
    </style>
</head>
<body>
    <header>
        <button onclick="logout()" style="float: right; padding: 10px; background-color: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">ƒêƒÉng Xu·∫•t</button>
        <h1>Qu·∫£n l√Ω H·ªá th·ªëng</h1>
        <p>Xin ch√†o: <strong id="currentUsernameDisplay"></strong> | Vai tr√≤: <strong id="userRoleDisplay"></strong></p>
    </header>

    <hr>

    <div class="tab-container">
        <button class="tab-button active" onclick="openTab(event, 'Products')">üçî M√≥n ƒÉn</button>
        <button class="tab-button" onclick="openTab(event, 'Tables')">üçΩÔ∏è B√†n</button>
        <button class="tab-button" onclick="openTab(event, 'Users')">üë• Ng∆∞·ªùi d√πng</button>
    </div>

    <div id="Products" class="tab-content active">
        <h3>Qu·∫£n l√Ω M√≥n ƒÉn (Products)</h3>
        <button onclick="openModal('product', 'create')">‚ûï Th√™m M√≥n ƒÉn m·ªõi</button>
        <table id="productsTable">
            <thead><tr><th>ID</th><th>T√™n</th><th>Gi√°</th><th>S·ªë l∆∞·ª£ng</th><th>·∫¢nh</th><th>Thao t√°c</th></tr></thead>
            <tbody></tbody>
        </table>
        <p id="productsStatus" style="margin-top: 10px;"></p>
    </div>

    <div id="Tables" class="tab-content">
        <h3>Qu·∫£n l√Ω B√†n (Tables)</h3>
        <button onclick="openModal('table', 'create')">‚ûï Th√™m B√†n m·ªõi</button>
        <table id="tablesTable">
            <thead><tr><th>ID</th><th>T√™n B√†n</th><th>Tr·∫°ng th√°i</th><th>·∫¢nh</th><th>Thao t√°c</th></tr></thead>
            <tbody></tbody>
        </table>
        <p id="tablesStatus" style="margin-top: 10px;"></p>
    </div>

    <div id="Users" class="tab-content">
        <h3>Qu·∫£n l√Ω Ng∆∞·ªùi d√πng (Users)</h3>
        <button onclick="openModal('user', 'create')">‚ûï Th√™m Ng∆∞·ªùi d√πng m·ªõi</button>
        <table id="usersTable">
            <thead><tr><th>ID</th><th>Username</th><th>Vai tr√≤</th><th>Thao t√°c</th></tr></thead>
            <tbody></tbody>
        </table>
        <p id="usersStatus" style="margin-top: 10px;"></p>
    </div>

    <div id="crudModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h4 id="modalTitle"></h4>
            <form id="crudForm" enctype="multipart/form-data">
                </form>
            <p id="modalMessage" style="color: red;"></p>
        </div>
    </div>

    <script src="admin_dashboard.js"></script>
</body>
</html>